imhere.utils=function(){},imhere.utils.getUrlVarsFromLocationHref=function(){return imhere.utils.getUrlVars(window.location.href)},imhere.utils.getUrlVars=function(t){for(var a,e=[],i=t.slice(t.indexOf("?")+1).split("&"),n=0;n<i.length;n++)a=i[n].split("="),e.push(a[0]),e[a[0]]=a[1];return e},imhere.utils.getPositionFromTweet=function(t){var a,e={};return-1==t.search(/Lat:(\d+.\d+)\//)?a:(e.latitude=RegExp.$1,-1==t.search(/\/Long:(\d+.\d+)/)?a:(e.longitude=RegExp.$1,e))},imhere.utils.getAccuracyText=function(t){return isFinite(t)?1e3>t?t+"m":t>=1e3?t/1e3+"km orz..":void 0:"NaN"},imhere.utils.getCreatedTimeText=function(t){try{var a=t.slice(4),e=moment(a,"MMM DD HH:mm:ss Z YYYY");return e.format("MMM DD HH:mm:ss")+"(JST)"}catch(i){return"Invalid date"}},imhere.utils.deleteCookie=function(t){cName=t+"=",dTime=new Date,dTime.setYear(dTime.getYear()-1),document.cookie=cName+";expires="+dTime.toGMTString()},imhere.utils.playAudio=function(){var t="/android_asset/www/sound/imhere.mp3",a=new Media(t,function(){console.log("playAudio():Audio Success")},function(t){console.log("playAudio():Audio Error: "+t)});a.play()},imhere.utils.geoDistance=function(t,a,e,i,n){var h;n===h&&(n=0);var o=0;if(Math.abs(t-e)<1e-5&&Math.abs(a-i)<1e-5)o=0;else{t=t*Math.PI/180,a=a*Math.PI/180,e=e*Math.PI/180,i=i*Math.PI/180;var r=6378140,s=6356755,M=(r-s)/r,u=Math.atan(s/r*Math.tan(t)),c=Math.atan(s/r*Math.tan(e)),l=Math.acos(Math.sin(u)*Math.sin(c)+Math.cos(u)*Math.cos(c)*Math.cos(a-i)),m=M/8*((Math.sin(l)-l)*Math.pow(Math.sin(u)+Math.sin(c),2)/Math.pow(Math.cos(l/2),2)-(Math.sin(l)-l)*Math.pow(Math.sin(u)-Math.sin(c),2)/Math.pow(Math.sin(l),2));o=r*(l+m);var d=Math.pow(10,n);o=Math.round(d*o/1)/d}return o},imhere.utils.geoDirection=function(t,a,e,i){var n=Math.cos(i*Math.PI/180)*Math.sin(e*Math.PI/180-t*Math.PI/180),h=Math.cos(a*Math.PI/180)*Math.sin(i*Math.PI/180)-Math.sin(a*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.cos(e*Math.PI/180-t*Math.PI/180),o=180*Math.atan2(n,h)/Math.PI;0>o&&(o+=360);var r=(o+90)%360;return r>22.5&&67.5>=r?"北東":r>67.5&&112.5>=r?"東":r>112.5&&157.5>=r?"南東":r>157.5&&202.5>=r?"南":r>202.5&&247.5>=r?"南西":r>247.5&&272.5>=r?"西":r>272.5&&337.5>=r?"北西":"北"};